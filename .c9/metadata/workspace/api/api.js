{"filter":false,"title":"api.js","tooltip":"/api/api.js","undoManager":{"mark":1,"position":1,"stack":[[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["",""]},{"start":{"row":1,"column":4},"end":{"row":1,"column":33},"action":"remove","lines":["account = require(\"./account\""]},{"start":{"row":1,"column":4},"end":{"row":1,"column":28},"action":"insert","lines":["router = express.Router("]},{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["",""]},{"start":{"row":4,"column":0},"end":{"row":10,"column":16},"action":"remove","lines":["var common = require(\"./common\");","","module.exports = function(app) {","\tapp.route(\"/api/account/register\").post(function(req, res) {","\t\taccount.register(req, res);","\t});","\tapp.route(\"/api"]},{"start":{"row":4,"column":0},"end":{"row":5,"column":12},"action":"insert","lines":["","router.get(\""]},{"start":{"row":5,"column":28},"end":{"row":5,"column":34},"action":"remove","lines":[").get("]},{"start":{"row":5,"column":28},"end":{"row":5,"column":30},"action":"insert","lines":[", "]},{"start":{"row":6,"column":0},"end":{"row":6,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":7,"column":0},"end":{"row":7,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":8,"column":0},"end":{"row":8,"column":1},"action":"remove","lines":["}"]},{"start":{"row":8,"column":0},"end":{"row":9,"column":23},"action":"insert","lines":["","module.exports = router"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["<<<<<<< HEAD",""]},{"start":{"row":10,"column":24},"end":{"row":65,"column":0},"action":"insert","lines":["","=======","var ctfs = require(\"./ctfs\");","var users = require(\"./users\");","var teams = require(\"./teams\");","var common = require(\"./common\");","","module.exports = function(app) {","\tapp.get(\"/api\", function(req, res) {","\t\tres.send({","\t\t\tstatus: 1,","\t\t\tmessage: \"API is up and running!\"","\t\t});","\t\treturn;","\t})","","\tapp.get(\"/api/teams\", function(req, res) {","\t\tteams.get_teams(req, res);","\t});","\tapp.get(\"/api/teams/one\", function(req, res) {","\t\tteams.get_one_team(req, res);","\t});","\tapp.post(\"/api/teams/create\", function(req, res) {","\t\tteams.create_team(req, res);","\t});","\tapp.post(\"/api/teams/delete\", function(req, res) {","\t\tteams.delete_team(req, res);","\t});","","\tapp.get(\"/api/user/loggedin\", function(req, res) {","\t\tres.send({","\t\t\tstatus: (req.session.user && req.session.user[\"username\"]) ? 1 : 0","\t\t});","\t\treturn;","\t});","\tapp.get(\"/api/user/me\", function(req, res) {","\t\tres.send({","\t\t\tstatus: (req.session.user && req.session.user[\"username\"]) ? 1 : 0,","\t\t\tuser: req.session.user","\t\t});","\t});","\tapp.get(\"/api/user/logout\", function(req, res) {","\t\treq.session.user = null;","\t\tres.send({","\t\t\tstatus: 1","\t\t});","\t});","\tapp.post(\"/api/user/register\", function(req, res) {","\t\tusers.register_user(req, res);","\t});","\tapp.post(\"/api/user/login\", function(req, res) {","\t\tusers.login_user(req, res);","\t});","};",">>>>>>> eb8b0ac344adb7410f2dc8009aefb63fcf839552",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":6,"column":13},"end":{"row":6,"column":13},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1428386177000,"hash":"b609fa504c4265d62aa8dc02adc6427e32c1820d"}